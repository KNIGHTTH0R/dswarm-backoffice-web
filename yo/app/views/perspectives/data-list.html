<h1>Data</h1>

<h3>Available for configuration</h3>
<div class="gridStyle" ng-grid="dataListOptions"></div>

<span ng-if="selectedSet.length" class="selected-set-options">
    Selected data set ({{ selectedSet.0.name }}):
    <a ng-href="#/data/{{ selectedSet.0.id }}"><button class="btn btn-default">Show details</button></a>

    <span class="dropdown">

        <a class="dropdown-toggle"><button class="btn btn-default">Edit configuration</button></a>

        <ul class="dropdown-menu">
            <li>
                <a href="#/data-config/{{ selectedSet.0.id }}/csv">... as CSV</a>
                <a href="#/data-config/{{ selectedSet.0.id }}/xml">... as XML</a>
                <a href="#/data-config/{{ selectedSet.0.id }}/schema">... as Schema</a>
            </li>
        </ul>

    </span>
</span>

<hr>
<h3>Available for projects</h3>
<div class="gridStyle" ng-grid="modelListOptions"></div>

<span ng-if="selectedModel.length" class="selected-set-options">
    Selected data set ({{ selectedModel.0.data_resource.name }}):
    <a ng-href="#/data-config/{{ selectedModel.0.data_resource.id }}/{{ selectedModel.0.configuration.parameters.storage_type }}"><button class="btn btn-default">Show details</button></a>

    <span class="dropdown">

        <a class="dropdown-toggle"><button class="btn btn-default">Edit configuration</button></a>

        <ul class="dropdown-menu">
            <li>
                <a href="#/data-config/{{ selectedModel.0.data_resource.id }}/csv">... as CSV</a>
                <a href="#/data-config/{{ selectedModel.0.data_resource.id }}/xml">... as XML</a>
                <a href="#/data-config/{{ selectedModel.0.data_resource.id }}/schema">... as Schema</a>
            </li>
        </ul>

    </span>

    <span class="dropdown">

        <a class="dropdown-toggle"><button class="btn btn-default">Use for new project</button></a>

        <div class="dropdown-menu" style="padding: 15px;">
            <input ng-model="newProject.name" id="project_name" style="margin-bottom: 15px;" type="text" name="project[name]" placeholder="Name" size="30" />
            <input ng-model="newProject.description" id="project_description" style="margin-bottom: 15px;" type="text" name="user[description]" placeholder="Description" size="30" />
            <a ng-click="onUseForNewProjectClick(selectedModel, newProject)"><button class="btn btn-default">Create</button></a>
        </div>

        <script>
            // Fix input element click problem
            $('.dropdown-menu input, .dropdown-menu label').click(function(e) {
                e.stopPropagation();
            });
        </script>

    </span>

</span>

<hr>
<h3>All projects</h3>
<div class="gridStyle" ng-grid="projectListOptions"></div>

<span ng-if="selectedProject.length" class="selected-set-options">
    Selected project ({{ selectedProject.0.name }}):

    <a href="#/model/{{ selectedProject.0.id }}" class="btn btn-primary">Load for modelling</a>
    <a ng-click="onProjectExportClick(selectedProject[0])" class="btn btn-default">Export</a>
    <a ng-click="onProjectDeleteClick(selectedProject[0])" class="btn btn-danger">Delete</a>
</span>
